<main class="grid place-items-center min-h-screen bg-gradient-to-t from-black to-blue-900 p-5">
  <!-- หน้าโหลด -->
  <div *ngIf="isLoading" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-70">
    <div class="flex flex-col items-center">
      <div class="loader mb-5"></div>
      <p class="text-white text-2xl">Loading...</p>
    </div>
  </div>

  <!-- แสดงเนื้อหาปกติเมื่อไม่โหลด -->
  <div *ngIf="!isLoading">
    <!-- Header Image -->
    <img
      src="https://images.genius.com/3286a6ca5c29bd26f92c2395a49a928e.1000x333x1.jpg"
      alt="Header Image"
      class="w-[1500px] h-[500px] rounded-lg mb-5"
    />

    <!-- Section แสดงศิลปินในรูปแบบวงกลม -->
    <div class="mb-10">
      <!-- Title และปุ่ม Show All/Show Less สำหรับ Top Artists -->
      <div class="flex items-center justify-between mb-5">
        <h2 class="text-3xl font-semibold text-gray-200">Top Artists</h2>
        <button
          (click)="toggleShowAllTopArtists()"
          class="text-blue-400 hover:underline focus:outline-none">
          {{ showAllTopArtists ? 'Show Less' : 'Show All' }}
        </button>
      </div>

      <!-- Section แสดงศิลปินในรูปแบบวงกลม -->
      <div class="flex flex-wrap justify-center gap-6">
        <ng-container *ngFor="let artist of topArtists; let i = index">
          <!-- กดที่รูปภาพแล้วรอ 2 วินาทีก่อนเปลี่ยนไปหน้าโปรไฟล์ของศิลปิน -->
          <div class="flex flex-col items-center" *ngIf="showAllTopArtists || i < 6" (click)="navigateWithDelay(artist.name)">
            <img
              [src]="artist.imageUrl"
              [alt]="artist.name"
              class="w-28 h-28 rounded-full object-cover border-2 border-gray-200 cursor-pointer"
            />
            <p class="mt-2 text-gray-300 font-medium">{{ artist.name }}</p>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Popular Artists Section -->
    <div>
      <!-- Popular Artists Title และปุ่ม Show All/Show Less -->
      <div class="flex items-center justify-between mb-5">
        <h1 class="text-4xl sm:text-5xl md:text-4xl font-bold text-gray-200">Popular Albums</h1>
        <button
          (click)="toggleShowAll()"
          class="text-blue-400 hover:underline focus:outline-none">
          {{ showAll ? 'Show Less' : 'Show All' }}
        </button>
      </div>

      <section class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
        <ng-container *ngFor="let card of cards; let i = index">
          <app-card
            *ngIf="showAll || i < 6"
            [title]="card.title"
            [artist]="card.artist"
            [imageUrl]="card.imageUrl"
            (albumClicked)="onAlbumClick($event)">
          </app-card>
        </ng-container>
      </section>
      
    </div>
  </div> <!-- ปิด div ของเนื้อหาปกติ -->
</main>
